{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/depression_app-master/depression_app-master/uiapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/xampp/htdocs/depression_app-master/depression_app-master/uiapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/xampp/htdocs/depression_app-master/depression_app-master/uiapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Logo from\"../../assets/logo.png\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var navigate=useNavigate();var signup=function signup(event){event.preventDefault();navigate(\"/Signing\");};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch(\"http://127.0.0.1:5000/Auth/login\",{method:\"POST\",body:JSON.stringify({email:email,password:password}),headers:{\"Content-Type\":\"application/json\"}});case 3:response=_context.sent;if(response.ok){_context.next=7;break;}setError(\"Invalid email or password\");return _context.abrupt(\"return\");case 7:window.location.replace(\"/home\");navigate(\"/login\");case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleLog=function handleLog(event){event.preventDefault();navigate(\"/home\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"L-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-img\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"L-Form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-con\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo,width:\"100%\",height:\"100%\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"In-Login\",required:true,type:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"In-Login\",required:true,type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",onClick:handleLog}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:signup,children:\" Sign Up \"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Logo","Login","email","setEmail","password","setPassword","error","setError","navigate","signup","event","preventDefault","handleSubmit","fetch","method","body","JSON","stringify","headers","response","ok","window","location","replace","handleLog","target","value"],"sources":["C:/xampp/htdocs/depression_app-master/depression_app-master/uiapp/src/Componenst/Login/Login.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Logo from \"../../assets/logo.png\";\nimport \"./Login.css\";\n\nfunction Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  const signup = (event) => {\n    event.preventDefault();\n\n    navigate(\"/Signing\");\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const response = await fetch(\"http://127.0.0.1:5000/Auth/login\", {\n      method: \"POST\",\n      body: JSON.stringify({ email, password }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      setError(\"Invalid email or password\");\n      return;\n    }\n\n    window.location.replace(\"/home\");\n\n    navigate(\"/login\");\n  };\n  const handleLog = (event) => {\n    event.preventDefault();\n\n    navigate(\"/home\");\n  };\n\n  return (\n    <div className=\"L-container\">\n      <div className=\"bg-img\"></div>\n      <form className=\"L-Form\" onSubmit={handleSubmit}>\n        <div className=\"logo-con\" >\n          <img src={Logo} width={\"100%\"} height={\"100%\"} />\n        </div>\n        <input\n        className=\"In-Login\"\n        required\n        type=\"email\"\n        placeholder=\"Email\"\n        value={email}\n        onChange={(event) => setEmail(event.target.value)}\n        />\n        <input\n        className=\"In-Login\"\n          required\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(event) => setPassword(event.target.value)}\n        />\n        <input type=\"submit\" value=\"Login\"  onClick={handleLog} />\n        {error && <p>{error}</p>}\n\n        <button onClick={signup}> Sign Up </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"qdAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,KAAI,KAAM,uBAAuB,CACxC,MAAO,aAAa,CAAC,wFAErB,QAASC,MAAK,EAAG,CACf,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eACtB,eAAgCL,QAAQ,CAAC,EAAE,CAAC,yCAArCM,QAAQ,eAAEC,WAAW,eAC5B,eAA0BP,QAAQ,CAAC,EAAE,CAAC,yCAA/BQ,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAE9B,GAAMU,OAAM,CAAG,QAATA,OAAM,CAAIC,KAAK,CAAK,CACxBA,KAAK,CAACC,cAAc,EAAE,CAEtBH,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,CAED,GAAMI,aAAY,4FAAG,iBAAOF,KAAK,gIAC/BA,KAAK,CAACC,cAAc,EAAE,CAAC,sBAEAE,MAAK,CAAC,kCAAkC,CAAE,CAC/DC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEf,KAAK,CAALA,KAAK,CAAEE,QAAQ,CAARA,QAAS,CAAC,CAAC,CACzCc,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,QANIC,QAAQ,kBAQTA,QAAQ,CAACC,EAAE,yBACdb,QAAQ,CAAC,2BAA2B,CAAC,CAAC,wCAIxCc,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,OAAO,CAAC,CAEhCf,QAAQ,CAAC,QAAQ,CAAC,CAAC,qDACpB,kBAnBKI,aAAY,4CAmBjB,CACD,GAAMY,UAAS,CAAG,QAAZA,UAAS,CAAId,KAAK,CAAK,CAC3BA,KAAK,CAACC,cAAc,EAAE,CAEtBH,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,aAAa,wBAC1B,YAAK,SAAS,CAAC,QAAQ,EAAO,cAC9B,cAAM,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAEI,YAAa,wBAC9C,YAAK,SAAS,CAAC,UAAU,uBACvB,YAAK,GAAG,CAAEZ,IAAK,CAAC,KAAK,CAAE,MAAO,CAAC,MAAM,CAAE,MAAO,EAAG,EAC7C,cACN,cACA,SAAS,CAAC,UAAU,CACpB,QAAQ,MACR,IAAI,CAAC,OAAO,CACZ,WAAW,CAAC,OAAO,CACnB,KAAK,CAAEE,KAAM,CACb,QAAQ,CAAE,kBAACQ,KAAK,QAAKP,SAAQ,CAACO,KAAK,CAACe,MAAM,CAACC,KAAK,CAAC,EAAC,EAChD,cACF,cACA,SAAS,CAAC,UAAU,CAClB,QAAQ,MACR,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,UAAU,CACtB,KAAK,CAAEtB,QAAS,CAChB,QAAQ,CAAE,kBAACM,KAAK,QAAKL,YAAW,CAACK,KAAK,CAACe,MAAM,CAACC,KAAK,CAAC,EAAC,EACrD,cACF,cAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAE,OAAO,CAAEF,SAAU,EAAG,CACzDlB,KAAK,eAAI,mBAAIA,KAAK,EAAK,cAExB,eAAQ,OAAO,CAAEG,MAAO,UAAC,WAAS,EAAS,GACtC,GACH,CAEV,CAEA,cAAeR,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}